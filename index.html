<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>webmalex test</title>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://angularlight.org/bin/alight_0.8.3.min.js"></script>
  </head>
<body>

   <div class="container">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">Webmalex</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#">About</a></li>
              <li><a href="#">Contact</a></li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
                <ul class="dropdown-menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li role="separator" class="divider"></li>
                  <li class="dropdown-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                </ul>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li class=""><a href="./">Default <span class="sr-only">(current)</span></a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
    </nav>
 
<div al-app="todoCtrl" class="jumbotron">
	<div al-app al-init="title='Hello!'">
	    <input al-value="title" type="text" class="form-control" />
	    <p>{{title}}</p>
	</div>

    <h3>ToDo</h3>

    <form class="form-inline" al-submit="append()">
        <input class="form-control" al-value="title" type="text" />
        <input class="btn btn-primary" type="submit" value="Append" />
    </form>

    <ul style="padding-left: 20px;">
        <li al-repeat="item in list">
            <input type="checkbox" al-checked="item.done" />
            <span al-css="done:item.done">{{item.title}}</span>
            <a href al-click="remove(item)">remove</a>
        </li>
    </ul>

    <p>Total: {{total()}} / {{list.length}}</p>
</div>


    </div> <!-- /container -->


</body>

<script type="text/javascript">
alight.controllers.todoCtrl = function($scope) {
    $scope.list = [
        { title: 'first', done: true },
        { title: 'second', done: false }];

    $scope.append = function() {
        $scope.list.push({ title: $scope.title, done: false });
        $scope.title = '';
    };
    $scope.remove = function(item) {
        var i = $scope.list.indexOf(item);
        $scope.list.splice(i, 1);
    };

    $scope.total = function() {
        var total = 0;
        $.each($scope.list, function(_, item) {
            if(!item.done) total += 1
        });
        return total;
    };
};
</script>

</html>